<!DOCTYPE html>
<html lang="kor">
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>java Web Study YouYoungTae</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='css/main.css'>
    <script src='js/main.js'></script>
</head>
<body style="height: 800px;">
    <header class="pstyleHeader">
        <a href="index.html">YouYoungTae Web Study</a>
    </header>
    <nav class="pstyleNav ">
        <ul class="inLineItem ">
            <li>
                <a href="http_pg1.html">Http완벽가이드</a>
            </li>
            <li>
                <a href="html.mht">실전Db모델링과Sql</a>
            </li>
            <li>
                <a href="index.html"> Code Complete2</a>
            </li>
            <li>
                <a href="index.html">Algorithms</a>
            </li>
            <li>
                <a href="index.html">선형대수</a>
            </li>
        </ul>
    </nav>
    <div class="flexContainer">

    <aside  class="pStyleAside"
            id="viewPageSelector"
            style="width: 200px;height:90vh;">
        <ul >
            <li ><span class="toggleView"> <a href="http_pg1.html">http 개관</a></span></span></li>
            <li ><span class="toggleView"> <a href="http_pg2.html">Url과 리소스</a></span></span></li>
            <li ><span class="toggleView"> <a href="http_pg3.html">HTTP 메시지</a></span></span></li>
            <li ><span class="toggleView"> <a href="http_pg4.html">HTTP커낵션</a></span></span></li>
            <li ><span class="toggleView"> <a href="http_pg5.html">웹서버</a></span></span></li>
            <li ><span class="toggleView"> <a href="http_pg6.html">프록시</a></span></span></li>
            <li ><span class="toggleView"> <a href="http_pg7.html">캐쉬 </a></span></span></li>
            <li ><span class="toggleView"> <a href="http_pg8.html">게이트웨이,터널,릴레이 </a></span></span></li>
            <li ><span class="toggleView"> <a href="http_pg9.html">... </a></span></span></li>
            <li ><span class="toggleView"> <a href="http_pg10.html">... </a></span></span></li>
            <li ><span class="toggleView"> <a href="http_pg11.html">... </a></span></span></li>
            <li ><span class="toggleView"> <a href="http_pg12.html">... </a></span></span></li>
        </ul>
    </aside>
    <main  style="width: 100vw;">
        <section id="viewPage" class="pd_A8"   >
            <article class="toggleView active DocBody" 
             style="height:90vh; overflow:auto; padding: 10px;">
                <h2 class="DocHeader" style="font-size: larger;font-weight:500;padding: 10px;">HTTP 커낵션</h2>
                <div style="padding-bottom: 20px;   "  >
                    <div style="margin-top: 10px;">
                        HTTP 커낵션,TCP 커낵션의 원리와 지연요소를 알아본다.
                    </div>
                </div>
                <article title="Url 문법구조"   style="padding-left: 20px;">
                    <img src="./img/HTTPConn1.PNG" alt="url해석" width="1200px">
                </article>
                <article title="상대Url,절대Url"   style="padding-top: 20px; padding-left: 20px;">
                    <h2  style="font-weight:500 ;margin-bottom: 10px;">TCP 일반적인 지연 요소</h2>
                    <ul class="lsItem" style=" padding-left: 40px;">
                        <li>Tcp 커낵션 헨드세이크 지연: tcp 커낵션을 수립하기 위해서 패킷을 2번 보낸다.
                            <ul class="lsItem" style="padding-left: 40px;">
                                <li>클라는 접속확인용 SYN플래그를 보내고  </li>
                                <li>서버는 SYN,ACK플래그를 포함하여 보낸후  </li>
                                <li>클라는 요청데이터를 전송하고  </li>
                                <li>서버는 응답데이터를 보낸다.  </li>
    
                            </ul>

                        </li>
                        <li>확인 응답 지연:Tcp통신의 신뢰성을 보장하기 위해서 각  TCP 세그먼트에 순번과 데이터 무결성 체크섬을 넣어서 관리한다. 그리고 데이터를 수신받은 수신자는 확인응답(PIGGYBACK)을 같은 방향으로 데이터를 보낼때 포함해서 전송한다.
                            <ul class="lsItem" style="padding-left: 40px;">
                                <li>송신자는 일정시간안에 확인응답이 포함된 패킷이 오지않으면 데이터를 다시 전송한다.
                                </li>
                                <li>HTTP통신에서 용량이 작은 데이터를 효율적으로 보내기 위해서 데이터를 모았다가 일정한 사이즈가 되면 보내는 알고리즘이 있는데 이런 알고리즘에서는 확인응답이 무시된다 </li>
                            </ul>

                        </li>
                        <li>Tcp 느린시작:커낵션 자원을 관리하기 위해서 TCP는 처음에 통신할때 보낼수 있는 패킷량을 제한하고 통신하는 횟수가 늘어날수록 패킷을 많이 보낼수 있게 허용하기 때문에 시작할때 많은 전송을 하지 못한다.
                        </li>
                    </ul>
                    <h2  style="font-weight:500 ;padding-top: 10PX;margin-bottom: 10px;">Http헤더설정</h2>
                    <ul class="lsItem" style="padding-left: 40px;">
                        <li>TCP_NODELAY :  패킷을 즉시 송신한다. (확인응답지연문제)
                        </li>
                        <li>TIME_WAITE :포트 자원 관리를 위해서 Tcp 커낵션을 강제로 끊으면 종단에서 해당 정보를 가지고 있다가 특정시간안에 생성 못하게 블럭하는 시간
                        </li>                       
                    </ul>
                </article>
                <article title="상대Url,절대Url"   style="padding-top: 20px; padding-left: 20px;">
                    <h2  style="font-weight:500 ;margin-bottom: 10px;">
                        HTTP 커낵션관리</h2>
                        <ul class="lsItem" style="padding-left: 40px;">
                            <li> 커낵션 헤더에 포함되는 토큰 :HTTP헤더,임시적인 토큰값,CLOSE값
                            </li>
                            <li> Http 커낵션 헤더는 특정 두서버간에서만 적용되는 옵션이기 때문에 프록시나 기타 게이트웨이를 탈때 적용되면 안된다. 그렇게 하기위해서는 다른 곳으로 전달하기 전에 삭제 해야 한다.
                            </li>                       
                            <li><hr></li>
                            <li>병렬 커낵션:tcp 구조상 송/수신이 순차적으로 일어 나기때문에 좀더 빠르게 처리하기 위해서 동시에 여러 개의 커낵션을 생성해서 관리한다.</li>
                            <li>지속 커낵션:커낵션을 생성한후 종료하지 않고 지속적으로 데이터를 송수신하는 통로로 사용한다.
                                (커낵션 헨드쉐이크 문제,tcp느린시작 문제 해결)                            </li>
                            <li><hr></li>
                            <li> http/1.0 에서는 지속커낵션을 처리하기위해 keep-Alive를 사용했는데 프락시 서버를 통과하게 될시 문제 발생
                            </li>
                            <li> http/1.0 에서 해당문제를 해결하기 위한 Proxy-Connection 헤더를 사용하면 도움이 되지만 프락시 서버를 여려개 통과할 경우 문제 발생
                            </li>
                            <li><hr></li>
                            <li> http/1.1 에서는 기본 설정이 소켓을 유지하는 것으로 변경되었고 유지할 필요가 없는 경우 close 값을 명기하여 커낵션을 종료한다.
                            </li>
                            <li>단 커낵션에 있는 모든 메시지가 자신의 길이를 명확하게 알아야 한다.(엔티티 본문에 Content-length값을 가지거나 청크전송인코딩 설정이 되어있어야 한다.)</li>
                            <li>http/1.1 에서는 파이프라인 커낵션을 지원해서 응답을 확인하지 않고 연속적으로 요청을 할수 있다. (단 post같이 서버에 값을 변경하는 경우에는 사용하면 안된다)</li>
                            <li></li>
                        </ul>

                </article>
            </article>

        </section>

    </main>
    </div>
    <footer></footer>
</body>
</html>